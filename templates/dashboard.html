{% extends "base.html" %}

{% block content %}

<p class="center">Hi {{session['user']['name']}}!</p>
<div class="center">
    <a href="/user/signout" class="btn btn-primary">Sign out</a>
</div>

<!-- Section to add a show. -->
<div class="container">
    <div class="jumbotron">
        <h2 class="center">Add a Show</h2>
        <form name="addShow">
            <label for="title">Title</label>
            <input type="text" name="title" class="field" placeholder="e.g. The Title" pattern="[A-Za-z0-9._~?!+-]{1,40}" title="Can't use some special character(s)." required>
            <label for="network">Network</label>
            <input type="text" name="network" class="field" placeholder="e.g. ST Network" pattern="[A-Za-z0-9._~?!+-]{1,30}" title="Can't use some special character(s)." required>
            <label for="time">Time</label>
            <input type="text" name="time" class="field" placeholder="e.g. XX:XX am/pm" pattern="[A-Za-z0-9._~?!+-:]{1,20}" title="Can't use some special character(s)." required>
            <label for="weekday">Weekday</label>
            <select  id="weekday" name="weekday">
                <option value="monday">Monday</option>
                <option value="tuesday">Tuesday</option>
                <option value="wednesday">Wednesday</option>
                <option value="thursday">Thursday</option>
                <option value="friday">Friday</option>
                <option value="saturday">Saturday</option>
                <option value="sunday">Sunday</option>
              </select>
        
            <input type="submit" value="Add" class="btn btn-primary">
            <p class="error error--hidden"></p>
        </form>
    </div>
</div>

<!-- Section to display shows. -->
<div class="container">
    <div class="jumbotron">
        <div class="row">
            <!-- Loop through every weekday.-->
            {% for day, dayList in shows.items() %}
                <div class="col-md-12 center"><hr>
                    <h4><u>{{day}}</u></h4><hr>
                </div>
                
                <!-- Loop though every item in weekday-->
                
                {% for i in dayList %}
                    <div class="col-md-2" style="background-color: white;">
                        <p><b>Title:</b> {{ i['title'] }}</p>
                        <p><b>Network:</b> {{ i['network'] }}</p>
                        <p><b>Time:</b> {{i['time']}}</p>
                        <div class="text-right">
                            <button class="btn btn-primary" data-toggle="collapse" data-target="#{{day}}{{loop.index}}">-</button>
                        </div>
                        <div id="{{day}}{{loop.index}}" class="collapse">
                            <h5>Delete Show?</h5>
                            <a class="btn btn-primary" href="/user/removeShow/{{i['encodedTitle']}}">Confirm</a>
                        </div>
                    </div>
                    
                {% endfor%}
            {% endfor %}
        </div>
    </div>
</div>

<!--Section for delete all shows. -->
<div class="container">
    <div class="jumbotron">
        <h3 class="center">Clear All Shows</h3>
        <div class="center">
            <a href="/user/clearShows" class="btn btn-primary">Clear</a>
        </div>
    </div>
</div>

{% endblock %}

